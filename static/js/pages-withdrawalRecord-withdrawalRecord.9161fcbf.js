(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-withdrawalRecord-withdrawalRecord"],{"0da7":function(t,e,i){"use strict";var a=i("ac15"),n=i.n(a);n.a},2456:function(t,e,i){"use strict";i.r(e);var a=i("2647"),n=i("f344");for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);i("0da7");var o=i("828b"),c=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"0e6d4920",null,!1,a["a"],void 0);e["default"]=c.exports},2647:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"content"},[i("back",{ref:"child",attrs:{text:t.myAddress,type:""},on:{getMsg:function(e){arguments[0]=e=t.$handleEvent(e),t.getMsg.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"giveNavTop"},[i("v-uni-view",{staticClass:"title",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.url.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"img"},[i("v-uni-image",{attrs:{src:"/static/give1.png"}})],1),i("v-uni-view",{staticClass:"text"},[t._v(t._s(t.$t("give1")))])],1)],1),i("v-uni-view",{staticClass:"dpoMain"},[i("v-uni-view",{staticClass:"switchBtn"},[i("v-uni-view",{staticClass:"btn",class:1==t.switchType?"activeBtn":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.switchTap(1)}}},[t._v(t._s(t.$t("receive13")))]),i("v-uni-view",{staticClass:"btn",class:2==t.switchType?"activeBtn":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.switchTap(2)}}},[t._v(t._s(t.$t("receive14")))])],1),1==t.switchType?i("v-uni-view",{staticClass:"dataList"},[i("v-uni-view",{staticClass:"navListData"},[i("v-uni-view",{staticClass:"item item1"},[t._v(t._s(t.$t("new7")))]),i("v-uni-view",{staticClass:"item"},[t._v(t._s(t.$t("new8")))]),i("v-uni-view",{staticClass:"item"},[t._v(t._s(t.$t("new9")))])],1),i("v-uni-view",{staticClass:"navList1"},[i("v-uni-scroll-view",{staticClass:"scroll-Y",attrs:{"scroll-top":t.scrollTop1,"scroll-y":"true"},on:{scrolltoupper:function(e){arguments[0]=e=t.$handleEvent(e),t.upper1.apply(void 0,arguments)},scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.lower1.apply(void 0,arguments)}}},t._l(t.myDraw,(function(e,a){return i("v-uni-view",{key:a,staticClass:"dataListInfo"},[i("v-uni-view",{staticClass:"item item1"},[t._v(t._s(e.drawAmount))]),i("v-uni-view",{staticClass:"item"},[t._v(t._s(t.$t("record"+e.status)))]),i("v-uni-view",{staticClass:"item"},[t._v(t._s(t._f("timeStamp")(e.logTime)))])],1)})),1)],1)],1):t._e(),2==t.switchType?i("v-uni-view",{staticClass:"dataList"},[i("v-uni-view",{staticClass:"navListData"},[i("v-uni-view",{staticClass:"item item1"},[t._v(t._s(t.$t("home21")))]),i("v-uni-view",{staticClass:"item"},[t._v(t._s(t.$t("new7")))]),i("v-uni-view",{staticClass:"item"},[t._v(t._s(t.$t("log1")))]),i("v-uni-view",{staticClass:"item"},[t._v(t._s(t.$t("new8")))])],1),i("v-uni-view",{staticClass:"navList1"},[i("v-uni-scroll-view",{staticClass:"scroll-Y",attrs:{"scroll-top":t.scrollTop,"scroll-y":"true"},on:{scrolltoupper:function(e){arguments[0]=e=t.$handleEvent(e),t.upper.apply(void 0,arguments)},scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.lower.apply(void 0,arguments)}}},t._l(t.coinLog,(function(e,a){return i("v-uni-view",{key:a,staticClass:"dataListInfo"},[i("v-uni-view",{staticClass:"item item1"},[t._v(t._s(t._f("plusXing1")(e.userAddress)))]),i("v-uni-view",{staticClass:"item"},[t._v(t._s(Math.floor(100*e.changeNum)/100))]),i("v-uni-view",{staticClass:"item"},[t._v(t._s(t._f("timeStamp")(e.logTime)))]),i("v-uni-view",{staticClass:"item"},[t._v(t._s(t.$t("changeType"+e.changeType)))])],1)})),1)],1)],1):t._e()],1),i("v-uni-view",{staticClass:"position"}),i("w-loading",{ref:"loading",attrs:{text:"",mask:"true",click:"false"}})],1)},n=[]},6881:function(t,e,i){var a=i("c86c");e=a(!1),e.push([t.i,".content[data-v-0e6d4920]{width:100%;height:auto;min-height:100vh;overflow:hidden;background-color:#100f0b;box-sizing:border-box}.content .dpoMain[data-v-0e6d4920]::-webkit-scrollbar{display:none}.content .dpoMain[data-v-0e6d4920]{box-sizing:border-box;margin:%?50?% %?20?% 0;background:rgba(0,0,0,.5);padding:%?30?%;height:%?1029?%;background:#191917;border-radius:%?20?%;border:%?2?% solid;border-image:radial-gradient(circle,#c0a680,#100f0b) 1 1}.content .dpoMain .switchBtn[data-v-0e6d4920]{display:flex;align-items:center;justify-content:space-between;margin-bottom:%?40?%}.content .dpoMain .switchBtn .btn[data-v-0e6d4920]{box-sizing:border-box;text-align:center;width:%?243?%;padding:%?10?%;height:%?89?%;background:linear-gradient(90deg,#e9cc9e 30%,#d5ab78 70%);border-radius:%?10?%;display:flex;align-items:center;justify-content:center;font-family:MicrosoftYaHeiLight;font-size:%?28?%;color:#000}.content .dpoMain .switchBtn .activeBtn[data-v-0e6d4920]{font-family:MicrosoftYaHeiLight;font-size:%?28?%;color:#000}.content .dpoMain .dataList[data-v-0e6d4920]{margin-top:%?20?%}.content .dpoMain .dataList .navListData[data-v-0e6d4920]{display:flex;align-items:center;justify-content:space-between;padding:%?30?% %?15?%;background:#2d2922;border-radius:0}.content .dpoMain .dataList .navListData .item[data-v-0e6d4920]{font-family:MicrosoftYaHeiLight;font-size:%?28?%;width:30%;text-align:center;font-size:%?24?%;color:#fefefe}.content .dpoMain .dataList .navListData .item1[data-v-0e6d4920]{width:40%}.content .dpoMain .dataList .navList1 .dataListInfo[data-v-0e6d4920]{display:flex;align-items:center;justify-content:space-between;padding:%?25?%}.content .dpoMain .dataList .navList1 .dataListInfo .item[data-v-0e6d4920]{font-family:MicrosoftYaHeiLight;font-size:%?24?%;color:#fefefe;width:30%;text-align:center}.content .dpoMain .dataList .navList1 .dataListInfo .item1[data-v-0e6d4920]{width:40%}.content .dpoMain .dataList .navList1 .dataListInfo[data-v-0e6d4920]:nth-child(even){background-color:#2d2922\n  /* 举例设置为浅灰色 */}.content .dpoMain .dataList .navList1 .dataListInfo[data-v-0e6d4920]:last-child{border-bottom:0}.content .dpoMain .dataList .navList1 .scroll-Y[data-v-0e6d4920]{height:%?730?%}.giveNavTop[data-v-0e6d4920]{margin:%?40?% %?25?%}.giveNavTop .title[data-v-0e6d4920]{display:flex;align-items:center}.giveNavTop .title .img[data-v-0e6d4920]{width:%?34?%;height:%?33?%;margin-right:%?15?%}.giveNavTop .title .img uni-image[data-v-0e6d4920]{width:100%;height:100%}.giveNavTop .title .text[data-v-0e6d4920]{font-size:%?30?%;color:#fff}",""]),t.exports=e},ac15:function(t,e,i){var a=i("6881");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("967d").default;n("1ba94270",a,!0,{sourceMap:!1,shadowMode:!1})},db0c:function(t,e,i){"use strict";i("6a54");var a=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("2634")),s=a(i("2fdc"));i("c223"),i("d4b5"),i("e966");var o=a(i("68cf")),c=a(i("d27d")),r=a(i("d92c")),d=(a(i("3378")),a(i("aed4"))),l=(i("dc41"),i("93f5")),u=i("3387c"),v={components:{wLoading:d.default,back:c.default},data:function(){return{myAddress:"",userAddress:"",Approve:!1,allowanceB:0,tabList:["home19","home20","withdrawal","list3"],tapIndex1:0,scrollTop:0,scrollTop1:0,limitAll:0,limitAll1:0,limit:20,page:1,switchType:1,myDraw:[],coinLog:[]}},filters:{timeStamp:function(t){if(0==t)return"--";var e=1e3*t,i=new Date(e),a=i.getFullYear(),n=i.getMonth()+1;n=n<10?"0"+n:n;var s=i.getDate();s=s<10?"0"+s:s;var o=i.getHours();o=o<10?"0"+o:o;var c=i.getMinutes();return c=c<10?"0"+c:c,"".concat(a,"-").concat(n,"-").concat(s," ").concat(o,":").concat(c)},plusXing1:function(t){if(0==t.length)return"";t.length;for(var e="",i=0;i<4;i++)e+="*";return t.substring(0,4)+e+t.substring(t.length-4)}},onLoad:function(t){var e=this;this.debouncedFetch=(0,u.debounce)(this.getMyCoinLog,300),this.debouncedFetch1=(0,u.debounce)(this.getMyDraw,300);var i=this;i.Init((function(){uni.setStorageSync("address",e.myAddress);var a=new i.ethers.providers.Web3Provider(window.ethereum);i.contract=new i.ethers.Contract(i.contractAddress,r.default,a.getSigner()),1==t.id?i.switchTap(2):i.getMyDraw()}))},onReachBottom:function(){},beforeDestroy:function(){this.debouncedFetch.cancel(),this.debouncedFetch1.cancel()},methods:{switchTap:function(t){this.page=1,this.coinLog=[],this.myDraw=[],1==t?this.debouncedFetch1():this.debouncedFetch(),this.switchType=t,this.scrollTop1="10px",this.scrollTop=1},url:function(){uni.redirectTo({url:"/pages/activation/activation"})},upper1:function(t){},lower1:function(t){this.limitAll1>this.page&&(this.page++,this.getMyDraw())},upper:function(t){},lower:function(t){this.limitAll>this.page&&(this.page++,this.getMyCoinLog())},closeGive:function(t){var e=this;return(0,s.default)((0,n.default)().mark((function i(){var a;return(0,n.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return e.$refs.loading.open(),i.next=3,e.contract.cancelAdult(t).catch((function(t){e.$refs.loading.close();var i=JSON.parse(JSON.stringify(t));(0,o.default)({title:e.$t("fromData13"),text:i.reason,icon:"error"})}));case 3:if(a=i.sent,!a){i.next=10;break}return i.next=7,a.wait();case 7:e.$refs.loading.close(),e.getMyCoinLog(),(0,o.default)({title:e.$t("success"),icon:"success"});case 10:case"end":return i.stop()}}),i)})))()},plusXing2:function(t){if(0==t.length)return"";if(0==t.length)return"";t.length;for(var e="",i=0;i<3;i++)e+="*";return t.substring(0,4)+e+t.substring(t.length-4)},pageCount:function(t,e){return t>0?t<e?1:t%e?parseInt(t/e)+1:t/e:0},getMyDraw:function(){var t=this;(0,l.getDrawLog)({page:this.page,limit:20,address:this.myAddress}).then((function(e){0==e.code&&(t.myDraw=t.myDraw.concat(e.data),t.limitAll1=t.pageCount(e.num,t.limit))}))},getMyCoinLog:function(){var t=this;(0,l.getChangeLog)({page:this.page,limit:20,address:this.myAddress}).then((function(e){0==e.code&&(t.coinLog=t.coinLog.concat(e.data),t.limitAll=t.pageCount(e.num,t.limit))}))},getMsg:function(t){},Init:function(t){var e=this;return(0,s.default)((0,n.default)().mark((function i(){var a,s;return(0,n.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if("undefined"!==typeof window.ethereum){i.next=4;break}console.log("请安装MetaMask"),i.next=10;break;case 4:return a=new e.ethers.providers.Web3Provider(window.ethereum),i.next=7,a.send("eth_requestAccounts",[]);case 7:s=i.sent,e.myAddress=s[0],t();case 10:case"end":return i.stop()}}),i)})))()}}};e.default=v},f344:function(t,e,i){"use strict";i.r(e);var a=i("db0c"),n=i.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a}}]);